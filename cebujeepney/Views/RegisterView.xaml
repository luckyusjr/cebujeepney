<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="cebujeepney.Views.RegisterView"
             BackgroundColor="#F5F7FF">

    <ContentPage.Resources>
        <!-- Colors -->
        <Color x:Key="PrimaryBlue">#2E43D9</Color>
        <Color x:Key="PrimaryBlueDark">#2236C9</Color>
        <Color x:Key="HeaderBlueStart">#73A7FF</Color>
        <Color x:Key="HeaderBlueEnd">#2E43D9</Color>
        <Color x:Key="AccentPink">#C64CF1</Color>
        <Color x:Key="FieldText">#1A1A1A</Color>
        <Color x:Key="FieldPlaceholder">#4B5563</Color>

        <!-- Buttons -->
        <Style TargetType="Button">
            <Setter Property="TextColor" Value="White" />
            <Setter Property="BackgroundColor" Value="{StaticResource PrimaryBlue}" />
            <Setter Property="FontAttributes" Value="Bold" />
            <Setter Property="CornerRadius" Value="24" />
            <Setter Property="HeightRequest" Value="52" />
        </Style>

        <!-- Pill Entry Style -->
        <Style x:Key="PillEntry" TargetType="Entry">
            <Setter Property="BackgroundColor" Value="White" />
            <Setter Property="TextColor" Value="{StaticResource FieldText}" />
            <Setter Property="PlaceholderColor" Value="{StaticResource FieldPlaceholder}" />
            <Setter Property="FontSize" Value="16" />
            <Setter Property="HeightRequest" Value="50" />
            <Setter Property="Margin" Value="0,0,0,12" />
        </Style>
    </ContentPage.Resources>

    <Grid RowDefinitions="*,Auto">
        <!-- Blue Background -->
        <Grid.Background>
            <LinearGradientBrush StartPoint="0,0" EndPoint="0,1">
                <GradientStop Color="{StaticResource HeaderBlueStart}" Offset="0" />
                <GradientStop Color="{StaticResource PrimaryBlue}" Offset="1" />
            </LinearGradientBrush>
        </Grid.Background>

        <ScrollView>
            <VerticalStackLayout Padding="24,40" Spacing="16">

                <!-- Logo -->
                <Image Source="cebujeeplogo.svg"
                   HeightRequest="150"
                   HorizontalOptions="Center"
                   Margin="0,0,0,0" />

                <!-- Title -->
                <Label Text="Create your Account"
                   FontSize="25"
                   FontFamily="Bold"
                   FontAttributes="Bold"
                   TextColor="White"
                   HorizontalTextAlignment="Center"
                   Margin="0,0,0,5" />

                <!-- Card Container -->
                <Border Padding="20,24" Margin="0,0,0,5"
                    BackgroundColor="White">
                    <Border.StrokeShape>
                        <RoundRectangle CornerRadius="24" />
                    </Border.StrokeShape>

                    <VerticalStackLayout Spacing="0">

                        <!-- Username -->
                        <Entry Placeholder="Username"
                           Text="{Binding Username}"
                           FontSize="18"
                           Style="{StaticResource PillEntry}" />

                        <!-- Email -->
                        <Entry Placeholder="Email"
                           Keyboard="Email"
                           Text="{Binding Email}"
                           FontSize="18"
                           Style="{StaticResource PillEntry}" />

                        <!-- Password -->
                        <Entry Placeholder="Password"
                           IsPassword="True"
                           Text="{Binding Password}"
                           FontSize="18"
                           Style="{StaticResource PillEntry}" />

                        <!-- Confirm Password -->
                        <Entry Placeholder="Confirm Password"
                           IsPassword="True"
                           Text="{Binding ConfirmPassword}"
                           FontSize="18"
                           Style="{StaticResource PillEntry}"
                           Margin="0,0,0,16" />

                        <!-- Error Message -->
                        <Label Text="{Binding ErrorMessage}"
                           IsVisible="{Binding IsErrorVisible}"
                           FontAttributes="Bold"
                           FontSize="14"
                           TextColor="Red"
                           HorizontalTextAlignment="Center"
                           Margin="0,0,0,16" />

                        <!-- Sign Up Button with Gradient -->
                        <Border HeightRequest="56" 
                            Padding="0" 
                            StrokeThickness="0"
                            BackgroundColor="Transparent">
                            <Border.StrokeShape>
                                <RoundRectangle CornerRadius="28" />
                            </Border.StrokeShape>
                            <Border.Background>
                                <LinearGradientBrush StartPoint="0,0.5" EndPoint="1,0.5">
                                    <GradientStop Color="{StaticResource HeaderBlueStart}" Offset="0" />
                                    <GradientStop Color="{StaticResource AccentPink}" Offset="1" />
                                </LinearGradientBrush>
                            </Border.Background>
                            <Button Text="Sign Up"
                                FontSize="25"
                                FontAttributes="Bold"
                                TextColor="White"
                                BackgroundColor="Transparent"
                                Command="{Binding RegisterCommand}" />
                        </Border>

                    </VerticalStackLayout>
                </Border>

            </VerticalStackLayout>
        </ScrollView>

        <!-- White Background Section for Tagline -->
        <Border Grid.Row="1" 
                BackgroundColor="White"
                Padding="24,20">
            <Border.StrokeShape>
                <RoundRectangle CornerRadius="0" />
            </Border.StrokeShape>

            <!-- Tagline -->
            <Label Text="Make Jeepney Rides easy to navigate."
                   FontSize="16"
                   FontAttributes="Bold"
                   TextColor="{StaticResource HeaderBlueEnd}"
                   HorizontalTextAlignment="Center" />
        </Border>
    </Grid>
</ContentPage>